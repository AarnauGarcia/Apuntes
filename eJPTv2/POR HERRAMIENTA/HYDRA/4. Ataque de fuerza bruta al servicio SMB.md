El protocolo SMB sirve para compartir archivos dentro de la propia red en windows. podemos lanzar el siguiente comando para comprobar si hay acceso a algún archivo simplemente con el siguiente comando:

````
smbclient -L 192.168.1.133
`````

En nuestro caso no se ha observado ningún archivo. Por lo que podemos optar por un ataque de fuerza bruta mediante Hydra con tal de conseguir las credenciales de acceso.

En este caso el comando de Hydra es similar al visto en las anteriores notas:

````
hydra -l mario -P /usr/share/wordlists/rockyou.txt smb://192.168.1.133
`````

Una vez teniendo la contraseña para poder acceder a los recursos compartidos haríamos uso de el siguiente comando:

````
smbclient -L 192.168.1.133 -U mario
`````

Y acto seguido nos solicitará la contraseña y nos mostrará los recursos compartidos.

En caso de que queramos saber los permisos de cada uno de estos recursos tendremos que hacer uso de SMBMAP. 

````
smbmap -H 192.168.1.133 -u 'mario' -p '123123'
````

![[4.HYDRA.jpg]]

Si queremos ejecutar comandos en algún recurso tendremos que hacer uso nuevamente de SMBCLIENT.

````
smbclient -U 'mario' //192.168.1.133/Users
`````

Una vez accedido tendremos acceso total al directorio y movilidad por el.

![[4.2. HYDRA.jpg]]